<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>乐可为，全球首创小干扰RNA降胆固醇药物</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1.0,user-scalable=no">
    <meta name="TopicID" content="">
    <meta name="ChapterID" content="">
    <meta name="PageID" content="">
    <meta name="mcc_code" content="">
    <meta name="key_message" content="乐可为，全球首创小干扰RNA降胆固醇药物">
    <link rel="stylesheet" href="../../css/reset.css">
    <link rel="stylesheet" href="../../css/toast.css">
    <link rel="stylesheet" href="../../css/animate.css">

    <style>
        html,body{
            width: 100%;
            height: 100%;
            overscroll-behavior: contain;
            -webkit-overflow-scrolling: touch;
        }
        a{font-size: 0.25rem;color: #333;font-style: normal;text-decoration: none;font-family: 微软雅黑}
        .bd img{width: 100%;}
        .active ul{
            display: flex;
            justify-content: space-around;
            margin-top: 0.71rem;
        }

        .active ul>li{
            width: 12.5%;
        }


        .tip{
            position: fixed;
            bottom: -0.5rem;
            padding: 0.1rem 0rem;
            background: rgba(0, 0, 0, 0.8);
            color: #fff;
            transition: all 0.3s;
            width: 100%;
            height: 0.8rem;
            line-height: 0.4rem;
            font-size: 0.25rem;
            text-align: center;
            background: white;
            color:#333;
            opacity: 0;
            z-index: 998;
        }

        .show {
            bottom: 0rem;
            opacity: 0.8;
        }

        #box{
            position: relative;
            font-size: 0px;
        }

        .bd .big{
            width: 0.4rem;
            height:0.4rem;
            position: absolute;
        }

        .bd .j1{
            right:0.8rem;
            top:3.8rem
        }

        .bd .j2{
            right:0.8rem;
            top:6.7rem
        }

        .bd .j3{
            right:0.8rem;
            top:9.5rem
        }

        .pull-left{
            height: 7rem;
            position: absolute;
            right:0.8rem;
            top:4rem
        }

        .my-gallery {width:10%;margin: 0 auto;opacity:0;position: absolute;top:4rem;right:0.8rem}
        .my-gallery .img-dv {width:100%;margin-bottom: 1%;}
        .my-gallery .img-dv a {display:block;width:100%;text-align: center}
        .my-gallery .img-dv a img {width:100%;}

        .blinking-icon {
            animation: heartbeat 1.5s infinite cubic-bezier(0.215, 0.61, 0.355, 1);
        }

        @keyframes heartbeat {
            0% { transform: scale(1); }
            14% { transform: scale(1.2); }
            28% { transform: scale(1); }
            42% { transform: scale(1.2); }
            70% { transform: scale(1); }
        }

        /* 导航栏基础样式 */
        .menu{
            position: fixed;
            top: 33%;
            right: 0rem;
            background-color: #FFFFFF;
            width: 1.6rem;
            height: 0.7rem;
            border-radius: 0.6rem 0rem 0rem 0.6rem;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: -8px 6px 12px rgba(0,0,0,0.15);
            transition: width 0.5s cubic-bezier(0.4, 0, 0.2, 1), height 0.5s ease;
            z-index: 999;
            cursor: pointer;
            padding: 0 0.2rem;
        }
        
        /* 导航栏按钮：点在左，文字在右 */
        .menu-btn {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.12rem;
        }
        
        .menu-dot {
            width: 0.16rem;
            height: 0.16rem;
            border-radius: 50%;
            background-color: #19758a;
        }
        
        .menu-text {
            font-size: 0.35rem;
            color: #19758a;
            font-weight: bold;
            font-family: 微软雅黑;
        }

        /* ########## 新增：展开弹动效果 ########## */
        .menu.open{
            position: fixed;
            top: 33%;
            right: 0rem;
            background-color: #FFFFFF;
            width: 1.6rem;
            height: 2.3rem;
            border-radius: 0.3rem 0rem 0rem 0.3rem;
            z-index: 999;
            justify-content: flex-start;
            padding: 0.2rem 0.1rem;
            /* 弹动动画 */
            animation: bounceIn 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        /* 定义弹动动画 */
        @keyframes bounceIn {
            0% {
                transform: scale(0.8) translateX(10px);
                opacity: 0;
            }
            60% {
                transform: scale(1.05) translateX(-2px);
            }
            100% {
                transform: scale(1) translateX(0);
                opacity: 1;
            }
        }

        /* 菜单项渐入效果 */
        .menu.open .list{
            display: flex;
            flex-direction: column;
            width: 100%;
            margin-top: 0.1rem;
            opacity: 0;
            transition: opacity 0.5s ease;
        }
        
        .menu.open .list.active{
            opacity: 1;
            /* 菜单项依次出现 */
            animation: fadeIn 0.6s forwards;
        }

        /* 菜单项逐个显示动画 */
        .menu.open .list .mbg {
            opacity: 0;
            transform: translateX(10px);
            animation: itemSlideIn 0.3s forwards;
            animation-delay: calc(var(--index) * 0.1s);
        }

        @keyframes itemSlideIn {
            from {
                opacity: 0;
                transform: translateX(10px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        /* ########## 弹动效果结束 ########## */

        .menu.open .list a{
            font-size: 0.26rem;
            width: 100%;
            height: 0.28rem;
            display: block;
            color:#19758a;
            padding: 0.12rem 0.2rem;
            font-weight: bold;
            display: flex;
            justify-content: left;
            align-items: center;
            background-image:url('../../images/line.png');
            background-position:0px bottom;
            background-repeat: no-repeat;
            background-size: contain;
        }
        .menu.open .list .mbg.hover{
            background-image:url('../../images/line2.png');
            background-position:0.1rem 0.02rem;
            background-repeat: no-repeat;
            background-size: contain;
        }
        .menu.open .list .mbg:last-child a{background-image: none}
        .menu.open .list i{
            background: url("../../images/arrow.png") no-repeat 0px 0px;
            width: 0.14rem;
            height: 0.15rem;
            background-size: cover;
            display: block;
            margin-right: 0.12rem;
        }
        .menu .con{
            display: none;
        }

        .ft_tips {
            position: absolute;
            bottom: -50px;
            left: 50%;
            transform: translateX(-50%);
            color: #666;
            font-size: 12px;
            text-align: center;
            font-weight: 400;
        }
    </style>
    <script src="../../js/jquery-2.1.0.js"></script>
    <script src="../../js/public.js?id=1"></script>
    <script src="../../js/toast.js"></script>
    <script src="../../js/image-modal.js?id=2"></script>
    <script src="https://qa.wecomfoundation.novartis.com.cn/content-lib/static/behaviorTracking.js"></script>
</head>
<body>
 <div class="bd" id="box">
    <img src="images/1.jpg?id=1" alt="">
    <!-- 导航栏：点在左，文字在右 -->
    <div class="menu">
        <div class="con">
            <img src="../../images/menu.png" alt="">
        </div>
        <div class="menu-btn">
            <span class="menu-dot"></span>
            <span class="menu-text">导航栏</span>
        </div>
        <div class="list" style="display: none">
            <!-- 为每个菜单项添加索引，用于动画延迟 -->
            <div class="mbg" style="--index: 0"><a href="../page1/index.html" class=""><i></i>患者画像</a></div>
            <div class="mbg" style="--index: 1"><a href="../page2/index.html" class=""><i></i>术后风险</a></div>
            <div class="mbg" style="--index: 2"><a href="../page3/index.html" class=""><i></i>降脂现状</a></div>
            <div class="mbg" style="--index: 3"><a href="../page4/index.html" class=""><i></i>全新优选</a></div>
            <div class="mbg" style="--index: 4"><a href="../page5/index.html" class=""><i></i>简明处方</a></div>
        </div>
    </div>
</div>

<div class="tip">
    继续上滑，进入本单元下一页
</div>
<script>
    const modal = new ImageModal({
        backdropBlur: false,
        closeOnEscape:false,
        backdropOpacity:0.5,
        onBeforeOpen: function() {
            console.log('模态框即将打开');
        },
        onAfterClose: function() {
            console.log('模态框已关闭');
        }
    });

    $('.big').click(function() {
        console.log($(this).data('src'));
        const imageSrc = $(this).data('src');
        modal.open(imageSrc);
    });


    $('.menu').on('click', function(e) {
        e.stopPropagation();
        $(".menu").addClass("open");
        setTimeout(function (){
            $(".list").show();
            $(".list").addClass("active");
            $(".menu-btn").hide();
        },200)
    });

    $(document).on('click', function() {
        $(".menu").removeClass("open");
        $(".list").removeClass("active");
        $(".list").hide();
        setTimeout(function (){
            $(".menu-btn").show();
        },200)
    });



    <!-- 滑动逻辑保持不变 -->
    const tip = document.querySelector('.tip');
    let isShowing = false;
    let isTouching = false;
    let touchLock = false;
    let startY = 0;

    window.addEventListener('load', function() {
        setTimeout(showTip, 500);
    });

    window.addEventListener('scroll', function() {
        if (isPageBottom()) {
            showTip();
        } else {
            hideTip();
        }
    });

    function showTip() {
        if (isShowing || touchLock) return;
        isShowing = true;
        tip.classList.add('show');
    }

    function hideTip() {
        if (!isShowing) return;
        isShowing = false;
        tip.classList.remove('show');
    }

    function isPageBottom() {
        const scrollTop = document.documentElement.scrollTop || document.body.scrollTop;
        const windowHeight = document.documentElement.clientHeight;
        const scrollHeight = document.documentElement.scrollHeight;
        return scrollTop + windowHeight >= scrollHeight - 50;
    }

    function enableSwipeJump() {
        document.addEventListener('touchstart', (e) => {
            if (touchLock) return;
            startY = e.touches[0].pageY;
            isTouching = true;
        }, { passive: false });


        document.addEventListener('touchend', e => {
            if (!isTouching || touchLock) {
                isTouching = false;
                return;
            }

            touchLock = true;
            const endY = e.changedTouches[0].pageY;
            const deltaY = startY - endY;

            if (isPageBottom() && deltaY > 15) {
                hideTip();
                setTimeout(() => {
                    window.location.href = "../page1/index.html";
                }, 50);
            } else {
                if (deltaY < -10) {
                    hideTip();
                }
            }

            setTimeout(() => {
                touchLock = false;
                isTouching = false;
            }, 100);
        });

        document.addEventListener('touchcancel', (e) => {
            isTouching = false;
            touchLock = false;
        });
    }

    enableSwipeJump();
</script>

</body>
</html>
